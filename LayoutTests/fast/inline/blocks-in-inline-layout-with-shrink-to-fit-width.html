<!-- webkit-test-runner [ BlocksInInlineLayoutEnabled=true ] -->
<style>
.container {
  outline: 1px solid black;
  width: max-content;
}
.middle-block { 
  background-color: blue;
  height: 100px;
}
</style>
<div class=container>
  <span>
    span start
    <div class=middle-block></div>
    span end
  </span>
</div>
